<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Web Pentesting - Cyber Buddy Academy</title>
<style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 0; background: #f4f4f4; }
    header { background: #007bff; color: white; padding: 10px; display: flex; align-items: center; justify-content: space-between; }
    header img { width: 40px; height: 40px; border-radius: 50%; object-fit: cover; margin-right: 10px; }
    nav { display: flex; }
    nav a, nav button { color: white; text-decoration: none; margin: 0 10px; background: none; border: none; cursor: pointer; }
    nav button:hover, nav a:hover { text-decoration: underline; }
    .container { padding: 20px; }
</style>
</head>
<body>
<header>
    <div>
        <img id="profilePic" src="https://via.placeholder.com/40" alt="Profile Pic">
        <span id="userName">Welcome</span>
    </div>
    <nav>
        <a href="dashboard.html">Dashboard</a>
        <a href="profile.html">Profile</a>
        <button id="logoutBtn">Logout</button>
    </nav>
</header>
<div class="container">
    <img src="https://raw.githubusercontent.com/Mubyyy404/photo-2/refs/heads/main/mylogo.png" alt="Cyber Buddy Academy Logo" style="width:150px;">
    <h1>Web Pentesting Course</h1>
    <!-- Add your course content here: videos, text, etc. -->
</div>

<script type="module">
    import { auth } from './firebase.js';
    import { signOut } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js";

    const user = JSON.parse(localStorage.getItem('user') || '{}');
    const profilePicImg = document.getElementById('profilePic');
    const userNameSpan = document.getElementById('userName');
    const logoutBtn = document.getElementById('logoutBtn');

    if (!user.purchasedCourses || !user.purchasedCourses.includes('web-pentesting')) {
        document.querySelector('.container').innerHTML = '<p>You do not have access to this course!</p>';
        setTimeout(() => window.location.href = "dashboard.html", 2000);
    } else {
        userNameSpan.textContent = `Welcome, ${user.name || 'User'}`;
        profilePicImg.src = user.profilePic || 'https://via.placeholder.com/40';
    }

    logoutBtn.addEventListener('click', async () => {
        await signOut(auth);
        localStorage.removeItem('user');
        window.location.href = "login.html";
    });
</script>
</body>
</html>
