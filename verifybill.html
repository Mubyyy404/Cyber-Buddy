<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Verify Bill - Cyber Buddy Academy</title>
  <style>
    body { font-family: Arial; background: #f0f3f8; text-align:center; padding:50px; }
    input { padding:10px; width:250px; }
    button { padding:10px 20px; background:#0056b3; color:white; border:none; cursor:pointer; }
    .result { margin-top:20px; font-size:18px; }
  </style>
</head>
<body>
  <h2>Cyber Buddy Academy Bill Verification</h2>
  <input id="billid" placeholder="Enter Bill ID">
  <button onclick="verifyBill()">Verify</button>
  <div class="result" id="result"></div>

  <script>
    async function verifyBill() {
      const id = document.getElementById("billid").value.trim();
      const res = await fetch("https://raw.githubusercontent.com/Mubyyy404/Cyber-Buddy/main/bills.json");
      const bills = await res.json();
      const bill = bills.find(b => b.billId === id);
      const result = document.getElementById("result");
      if (bill) {
        result.innerHTML = `
          ‚úÖ <b>Valid Bill</b><br>
          <b>Name:</b> ${bill.name}<br>
          <b>Course:</b> ${bill.course}<br>
          <b>Amount:</b> ‚Çπ${bill.amount}<br>
          <b>Date:</b> ${bill.date}<br><br>
          <a href="${bill.verifyUrl}" target="_blank">üîó Open Bill Link</a>
        `;
      } else {
        result.innerHTML = "‚ùå Invalid or Unknown Bill ID.";
      }
    }

    // Auto verify if ?billid= given in URL
    const urlParams = new URLSearchParams(window.location.search);
    const idFromUrl = urlParams.get("billid");
    if (idFromUrl) {
      document.getElementById("billid").value = idFromUrl;
      verifyBill();
    }
  </script>
</body>
</html>
