<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Courses - Cyber Buddy Academy</title>
<style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    .grid { display: grid; grid-template-columns: repeat(auto-fill,minmax(250px,1fr)); gap: 20px; }
    .card { border: 1px solid #ccc; border-radius: 8px; overflow: hidden; padding: 10px; text-align: center; }
    .card img { width: 100%; height: 150px; object-fit: cover; }
    .card button { margin-top: 10px; padding: 8px 15px; border: none; background: #007bff; color: white; cursor: pointer; }
    .card button:hover { background: #0056b3; }
</style>
</head>
<body>
<h1>Welcome to Cyber Buddy Academy</h1>
<div class="grid" id="courseGrid"></div>

<script type="module">
    import { auth } from './firebase.js';

    const user = JSON.parse(localStorage.getItem('user'));
    if (!user) window.location.href = "login.html"; // redirect if not logged in

    // Example courses
    const courses = [
        { id: "web-pentesting", name: "Web Pentesting", img: "https://via.placeholder.com/250x150", desc: "Learn web penetration testing." },
        { id: "ethical-hacking", name: "Ethical Hacking", img: "https://via.placeholder.com/250x150", desc: "Ethical hacking fundamentals." },
        { id: "cyber-security-101", name: "Cyber Security 101", img: "https://via.placeholder.com/250x150", desc: "Basics of cyber security." }
    ];

    const courseGrid = document.getElementById('courseGrid');
    courses.forEach(course => {
        if (user.purchasedCourses.includes(course.id)) { // only show purchased courses
            const div = document.createElement('div');
            div.classList.add('card');
            div.innerHTML = `
                <img src="${course.img}" alt="${course.name}">
                <h3>${course.name}</h3>
                <p>${course.desc}</p>
                <button onclick="goCourse('${course.id}')">Go to Course</button>
            `;
            courseGrid.appendChild(div);
        }
    });

    window.goCourse = (courseId) => {
        window.location.href = courseId + ".html"; // redirect to separate course page
    };
</script>
</body>
</html>
